<div id="chatbot-container" style="position: fixed; bottom: 20px; right: 20px;">
    <button id="toggle-chatbot" class="btn btn-primary">Chat</button>
    <div id="chatbot-box" style="display: none; width: 300px; height: 400px; background: white; border: 1px solid #ccc; border-radius: 5px; padding: 10px;">
        <div id="chatbot-messages" style="height: 80%; overflow-y: auto;"></div>
        <input type="text" id="chatbot-input" class="form-control mt-2" placeholder="Ask about our services...">
        <button id="chatbot-send" class="btn btn-success mt-2">Send</button>
    </div>
</div>

<script>
    document.getElementById("toggle-chatbot").addEventListener("click", function () {
        let chatbotBox = document.getElementById("chatbot-box");
        chatbotBox.style.display = chatbotBox.style.display === "none" ? "block" : "none";
    });

    document.getElementById("chatbot-send").addEventListener("click", function () {
        let input = document.getElementById("chatbot-input").value;
        if (input.trim() === "") return;

        let messages = document.getElementById("chatbot-messages");
        messages.innerHTML += `<div><strong>You:</strong> ${input}</div>`;

        fetch("/Gemini/Chat", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({ prompt: input })
        })
        .then(response => response.json())
        .then(data => {
            messages.innerHTML += `<div><strong>Chatbot:</strong> ${data.response}</div>`;
            document.getElementById("chatbot-input").value = "";
        });
    });
</script>
